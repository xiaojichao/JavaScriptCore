# å›¾è§£JavaScriptå˜é‡æå‡ï¼ˆhoistingï¼‰

![](media/15959134506087/15959170925988.jpg)

å˜é‡æå‡æ˜¯æ¯ä¸ªJSå¼€å‘äººå‘˜éƒ½å¬è¯´è¿‡çš„é‚£äº›æœ¯è¯­ä¹‹ä¸€ï¼Œå› ä¸ºä½ åœ¨æœç´¢å¼•æ“Žä¸Šæœç´¢çƒ¦äººçš„é”™è¯¯ï¼Œå¹¶ä¸”æœ€ç»ˆåˆ°StackOverflowä¸ŠæŸ¥æ‰¾æ—¶ï¼Œæœ‰äººä¼šå‘Šè¯‰ä½ è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º**å˜é‡æå‡ï¼ˆhoistingï¼‰**å¯¼è‡´çš„ã€‚é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯å˜é‡æå‡å‘¢ï¼Ÿ(BTWï¼Œ**ä½œç”¨åŸŸ**ä¼šåœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»ï¼Œæˆ‘å¸Œæœ›ä¿æŒæ–‡ç« å°è€Œä¸“æ³¨ï¼‰

å¦‚æžœä½ æ˜¯JavaScriptæ–°æ‰‹ï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»é‡åˆ°è¿‡ä¸€äº›æ€ªå¼‚çš„è¡Œä¸ºï¼Œæ¯”å¦‚ï¼Œæœ‰äº›å˜é‡çš„å€¼ä¼šå¶ç„¶æ˜¯`undefined`ã€æŠ›å‡ºäº†`ReferenceError`é”™è¯¯ï¼Œç­‰ç­‰ã€‚å˜é‡æå‡ç»å¸¸è¢«è§£é‡Šä¸º*å°†å˜é‡å’Œå‡½æ•°æ”¾åˆ°æ–‡ä»¶çš„é¡¶éƒ¨*ã€‚ä¸è¿‡ï¼Œå°½ç®¡å˜é‡æå‡å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼Œä½†æ˜¯èƒŒåŽå¹¶éžå¦‚æ­¤ðŸ˜ƒã€‚

å½“JSå¼•æ“ŽèŽ·å–æˆ‘ä»¬çš„è„šæœ¬æ—¶ï¼Œå®ƒè¦åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯ä¸ºæˆ‘ä»¬ä»£ç ä¸­çš„æ•°æ®**è®¾ç½®å†…å­˜**ã€‚è¿™æ—¶å€™æ²¡æœ‰æ‰§è¡Œä»»ä½•ä»£ç ï¼Œä»…ä»…æ˜¯åœ¨ä¸ºæ‰§è¡Œå‡†å¤‡å¥½ä¸€åˆ‡ã€‚å‡½æ•°å£°æ˜Žå’Œå˜é‡çš„å­˜å‚¨æ–¹å¼æ˜¯ä¸åŒçš„ã€‚å‡½æ•°å­˜å‚¨çš„æ˜¯**å¯¹æ•´ä¸ªå‡½æ•°çš„ä¸€ä¸ªå¼•ç”¨**ã€‚

[![å›¾1.å‡½æ•°å­˜çš„æ˜¯å¯¹æ•´ä¸ªå‡½æ•°çš„ä¸€ä¸ªå¼•ç”¨](media/15959134506087/gif7.gif)](media/15959134506087/gif7.gif)

å¯¹å˜é‡æ¥è¯´ï¼Œå°±æœ‰æ‰€ä¸åŒäº†ã€‚ES6å¼•å…¥äº†ä¸¤ä¸ªæ–°å…³é”®å­—æ¥å£°æ˜Žå˜é‡ï¼š`let`å’Œ`const`ã€‚ç”¨`let`æˆ–è€…`const`å…³é”®å­—å£°æ˜Žçš„å˜é‡è¢«å­˜å‚¨çš„æ—¶å€™æ˜¯*æœªè¢«åˆå§‹åŒ–çš„*ã€‚

![gif8](media/15959134506087/gif8.gif)

ç”¨`var`å…³é”®å­—å£°æ˜Žçš„å˜é‡ä»¥é»˜è®¤å€¼`undefined`å­˜å‚¨ã€‚

[![å›¾3.ç”¨varå…³é”®å­—å£°æ˜Žçš„å˜é‡ä»¥é»˜è®¤å€¼undefinedå­˜å‚¨](media/15959134506087/gif9.gif)](media/15959134506087/gif9.gif)

çŽ°åœ¨åˆ›å»ºé˜¶æ®µå·²ç»å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥å®žé™…æ‰§è¡Œä»£ç ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚æžœåœ¨æ–‡ä»¶å¤´éƒ¨å£°æ˜Žå‡½æ•°æˆ–è€…ä»»ä½•å˜é‡ä¹‹å‰ï¼Œæœ‰ä¸‰æ¡`console.log`è¯­å¥çš„æ—¶å€™ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚

æ—¢ç„¶å‡½æ•°å­˜å‚¨çš„æ˜¯å¯¹æ•´ä¸ªå‡½æ•°ä»£ç çš„ä¸€ä¸ªå¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨åˆ›å»ºä»–ä»¬çš„ä»£ç è¡Œä¹‹å‰è°ƒç”¨ä»–ä»¬ï¼ ðŸ”¥

[![å›¾4. åœ¨æ‰§è¡Œé˜¶æ®µæœŸé—´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°å£°æ˜Žä¹‹å‰è°ƒç”¨å®ƒä»¬ï¼Œå› ä¸ºåœ¨å†…å­˜ä¸­æœ‰ä¸€ä¸ªå¯¹æ•´ä¸ªå‡½æ•°çš„å¼•ç”¨](media/15959134506087/gif16.gif)](media/15959134506087/gif16.gif)

å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªç”¨`var`å…³é”®å­—å£°æ˜Žçš„å˜é‡çš„å˜é‡å£°æ˜Žä¹‹å‰å¼•ç”¨è¯¥å˜é‡æ—¶ï¼Œå®ƒåªä¼šè¿”å›žå­˜å‚¨çš„é»˜è®¤å€¼`undefined`ï¼ä¸è¿‡ï¼Œè¿™æ ·åšæœ‰æ—¶å€™ä¼šå¯¼è‡´ä¸å¯é¢„æœŸçš„è¡Œä¸ºã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€ä½ æ— æ„ä¸­å¼•ç”¨äº†å®ƒï¼ˆä½ å¯èƒ½å¹¶ä¸æƒ³å®ƒçš„å€¼ä¸º`undefined`ï¼‰ðŸ˜¬ã€‚

[![å›¾5.å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªç”¨`var`å…³é”®å­—å£°æ˜Žçš„å˜é‡çš„å˜é‡å£°æ˜Žä¹‹å‰å¼•ç”¨è¯¥å˜é‡æ—¶ï¼Œå…¶å€¼ä¼šæ˜¯é»˜è®¤å€¼undefinedã€‚](media/15959134506087/gif17.gif)](media/15959134506087/gif17.gif)

ä¸ºäº†é˜²æ­¢æˆ‘ä»¬åƒåœ¨ç”¨`var`å…³é”®å­—å£°æ˜Žå˜é‡æ—¶é‚£æ ·ä¸€ä¸å°å¿ƒå°±å¼•ç”¨äº†ä¸€ä¸ª`undefined`å˜é‡ï¼Œåªè¦æˆ‘ä»¬è¯•å›¾è®¿é—®**æœªè¢«åˆå§‹åŒ–**çš„å˜é‡æ—¶ï¼Œå°±éƒ½ä¼šæŠ›å‡ºä¸€ä¸ª`ReferenceError`é”™è¯¯ã€‚å˜é‡å®žé™…å£°æ˜Žä¹‹å‰çš„â€œåŒºåŸŸâ€ç§°ä¸º**æš‚æ—¶æ€§æ­»åŒº**ï¼šå°±ä¸è®©æˆ‘ä»¬åœ¨å˜é‡åˆå§‹åŒ–ä¹‹å‰å¼•ç”¨è¯¥å˜é‡ï¼ˆè¿™ä¹ŸåŒ…æ‹¬ES6ç±»ï¼ï¼‰ã€‚

![gif18](media/15959134506087/gif18.gif)

å½“å¼•æ“Žé€šè¿‡æˆ‘ä»¬å®žé™…å£°æ˜Žå˜é‡çš„è¡Œæ—¶ï¼Œå†…å­˜ä¸­çš„å€¼å°±è¢«æˆ‘ä»¬å®žé™…å£°æ˜Žå®ƒä»¬çš„å€¼è¦†ç›–ã€‚

![gif12](media/15959134506087/gif12.gif)

æžå®šï¼ ðŸŽ‰ä¸‹é¢æˆ‘ä»¬å¿«é€Ÿå›žé¡¾ä¸€ä¸‹ï¼š

* åœ¨æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œå°†å‡½æ•°å’Œå˜é‡å­˜å‚¨åœ¨å†…å­˜ä¸­ä»¥ç”¨äºŽæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚è¿™ç§°ä¸º**å˜é‡æå‡ï¼ˆhoistingï¼‰**ã€‚
* å‡½æ•°è¢«å­˜å‚¨ä¸ºä¸€ä¸ªå¯¹æ•´ä¸ªå‡½æ•°çš„å¼•ç”¨ï¼Œç”¨`var`å…³é”®å­—å£°æ˜Žçš„å˜é‡çš„å€¼ä¸º`undefined`ï¼Œè€Œç”¨`let`å’Œ`const`å…³é”®å­—å£°æ˜Žçš„å˜é‡æœªè¢«åˆå§‹åŒ–ã€‚

å¸Œæœ›æœ¬æ–‡èƒ½è®©ä½ æžæ¸…æ¥š**å˜é‡æå‡ï¼ˆhoistingï¼‰**è¿™ä¸ªæœ¯è¯­ã€‚

> åŽŸæ–‡ by lydia hallieï¼š[https://dev.to/lydiahallie/javascript-visualized-hoisting-478h](https://dev.to/lydiahallie/javascript-visualized-hoisting-478h)